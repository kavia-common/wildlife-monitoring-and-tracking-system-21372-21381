{"is_source_file": true, "format": "Python", "description": "This file provides API endpoints for seeding and verifying sample data in a wildlife tracking system. It defines functions and API routes to insert mock data into a MongoDB database, including users, animals, devices, telemetry points, geofences, alerts, and sightings. Additionally, it offers verification functionality to check data integrity and recency.", "external_files": ["src/db/connection", "src/db/models"], "external_methods": ["get_collection", "ensure_database"], "published": ["/sample/seed", "/sample/verify", "seed_and_verify"], "classes": [{"name": "SeedResult", "description": "Model representing the IDs of created seed data entries."}, {"name": "VerifyResult", "description": "Model representing the verification status, counts, latest telemetry, and errors."}], "methods": [{"name": "dict _geo_point(lon: float, lat: float)", "description": "Constructs a GeoJSON Point from longitude and latitude.", "scope": "", "scopeKind": ""}, {"name": "dict _geo_polygon(coords: List[List[List[float]]])", "description": "Constructs a GeoJSON Polygon from coordinates.", "scope": "", "scopeKind": ""}, {"name": "str _insert_one(collection_name: str, doc: Dict[str, Any])", "description": "Inserts a document into a specified collection and returns the inserted ID.", "scope": "", "scopeKind": ""}, {"name": "str _upsert_one(collection_name: str, query: Dict[str, Any], doc: Dict[str, Any])", "description": "Performs an upsert (update or insert) on a collection and returns the document ID.", "scope": "", "scopeKind": ""}, {"name": "SeedResult seed_sample_data()", "description": "API route to seed the database with sample data for all core collections.", "scope": "", "scopeKind": ""}, {"name": "VerifyResult verify_sample_data()", "description": "API route to verify the presence and recency of seeded data.", "scope": "", "scopeKind": ""}, {"name": "Dict[str,Any] seed_and_verify()", "description": "Convenience function to seed data and verify in one call.", "scope": "", "scopeKind": ""}], "calls": ["get_collection", "ensure_database", "_upsert_one", "_insert_one", "logger.info", "logger.exception", "coll.count_documents", "coll.find_one"], "search-terms": ["seed_sample_data", "verify_sample_data", "sample-data route", "MongoDB seeding", "wildlife tracking", "geofence", "telemetry points", "async API"], "state": 2, "file_id": 9, "knowledge_revision": 23, "git_revision": "", "ctags": [{"_type": "tag", "name": "SeedResult", "path": "/home/kavia/workspace/code-generation/wildlife-monitoring-and-tracking-system-21372-21381/wildlife_tracking_backend/src/api/sample_data.py", "pattern": "/^class SeedResult(BaseModel):$/", "language": "Python", "kind": "class"}, {"_type": "tag", "name": "VerifyResult", "path": "/home/kavia/workspace/code-generation/wildlife-monitoring-and-tracking-system-21372-21381/wildlife_tracking_backend/src/api/sample_data.py", "pattern": "/^class VerifyResult(BaseModel):$/", "language": "Python", "kind": "class"}, {"_type": "tag", "name": "_geo_point", "path": "/home/kavia/workspace/code-generation/wildlife-monitoring-and-tracking-system-21372-21381/wildlife_tracking_backend/src/api/sample_data.py", "pattern": "/^def _geo_point(lon: float, lat: float) -> dict:$/", "language": "Python", "typeref": "typename:dict", "kind": "function", "signature": "(lon: float, lat: float)"}, {"_type": "tag", "name": "_geo_polygon", "path": "/home/kavia/workspace/code-generation/wildlife-monitoring-and-tracking-system-21372-21381/wildlife_tracking_backend/src/api/sample_data.py", "pattern": "/^def _geo_polygon(coords: List[List[List[float]]]) -> dict:$/", "language": "Python", "typeref": "typename:dict", "kind": "function", "signature": "(coords: List[List[List[float]]])"}, {"_type": "tag", "name": "_insert_one", "path": "/home/kavia/workspace/code-generation/wildlife-monitoring-and-tracking-system-21372-21381/wildlife_tracking_backend/src/api/sample_data.py", "pattern": "/^async def _insert_one(collection_name: str, doc: Dict[str, Any]) -> str:$/", "language": "Python", "typeref": "typename:str", "kind": "function", "signature": "(collection_name: str, doc: Dict[str, Any])"}, {"_type": "tag", "name": "_upsert_one", "path": "/home/kavia/workspace/code-generation/wildlife-monitoring-and-tracking-system-21372-21381/wildlife_tracking_backend/src/api/sample_data.py", "pattern": "/^async def _upsert_one(collection_name: str, query: Dict[str, Any], doc: Dict[str, Any]) -> str:$/", "language": "Python", "typeref": "typename:str", "kind": "function", "signature": "(collection_name: str, query: Dict[str, Any], doc: Dict[str, Any])"}, {"_type": "tag", "name": "counts", "path": "/home/kavia/workspace/code-generation/wildlife-monitoring-and-tracking-system-21372-21381/wildlife_tracking_backend/src/api/sample_data.py", "pattern": "/^    counts: Dict[str, int] = Field(..., description=\"Document counts for each collection\")$/", "language": "Python", "typeref": "typename:Dict[str, int]", "kind": "variable", "scope": "VerifyResult", "scopeKind": "class"}, {"_type": "tag", "name": "errors", "path": "/home/kavia/workspace/code-generation/wildlife-monitoring-and-tracking-system-21372-21381/wildlife_tracking_backend/src/api/sample_data.py", "pattern": "/^    errors: Optional[List[str]] = Field(default=None, description=\"Any error messages encountere/", "language": "Python", "typeref": "typename:Optional[List[str]]", "kind": "variable", "scope": "VerifyResult", "scopeKind": "class"}, {"_type": "tag", "name": "latest_telemetry", "path": "/home/kavia/workspace/code-generation/wildlife-monitoring-and-tracking-system-21372-21381/wildlife_tracking_backend/src/api/sample_data.py", "pattern": "/^    latest_telemetry: Optional[Dict[str, Any]] = Field(default=None, description=\"Most recent te/", "language": "Python", "typeref": "typename:Optional[Dict[str, Any]]", "kind": "variable", "scope": "VerifyResult", "scopeKind": "class"}, {"_type": "tag", "name": "logger", "path": "/home/kavia/workspace/code-generation/wildlife-monitoring-and-tracking-system-21372-21381/wildlife_tracking_backend/src/api/sample_data.py", "pattern": "/^logger = logging.getLogger(\"sample_data\")$/", "language": "Python", "kind": "variable"}, {"_type": "tag", "name": "ok", "path": "/home/kavia/workspace/code-generation/wildlife-monitoring-and-tracking-system-21372-21381/wildlife_tracking_backend/src/api/sample_data.py", "pattern": "/^    ok: bool = Field(..., description=\"Overall verification status\")$/", "language": "Python", "typeref": "typename:bool", "kind": "variable", "scope": "VerifyResult", "scopeKind": "class"}, {"_type": "tag", "name": "router", "path": "/home/kavia/workspace/code-generation/wildlife-monitoring-and-tracking-system-21372-21381/wildlife_tracking_backend/src/api/sample_data.py", "pattern": "/^router = APIRouter($/", "language": "Python", "kind": "variable"}, {"_type": "tag", "name": "seed_and_verify", "path": "/home/kavia/workspace/code-generation/wildlife-monitoring-and-tracking-system-21372-21381/wildlife_tracking_backend/src/api/sample_data.py", "pattern": "/^async def seed_and_verify() -> Dict[str, Any]:$/", "language": "Python", "typeref": "typename:Dict[str,Any]", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "seed_sample_data", "path": "/home/kavia/workspace/code-generation/wildlife-monitoring-and-tracking-system-21372-21381/wildlife_tracking_backend/src/api/sample_data.py", "pattern": "/^async def seed_sample_data() -> SeedResult:$/", "language": "Python", "typeref": "typename:SeedResult", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "verify_sample_data", "path": "/home/kavia/workspace/code-generation/wildlife-monitoring-and-tracking-system-21372-21381/wildlife_tracking_backend/src/api/sample_data.py", "pattern": "/^async def verify_sample_data() -> VerifyResult:$/", "language": "Python", "typeref": "typename:VerifyResult", "kind": "function", "signature": "()"}], "hash": "b5bfd3cde72719c47be862386d7f0399", "format-version": 4, "code-base-name": "wildlife_tracking_backend", "filename": "wildlife_tracking_backend/src/api/sample_data.py", "fields": [{"name": "Dict[str, int] counts", "scope": "VerifyResult", "scopeKind": "class", "description": "unavailable"}, {"name": "Optional[List[str]] errors", "scope": "VerifyResult", "scopeKind": "class", "description": "unavailable"}, {"name": "Optional[Dict[str, Any]] latest_telemetry", "scope": "VerifyResult", "scopeKind": "class", "description": "unavailable"}, {"name": "logger = logging.getLogger(\"sample_data\")", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "bool ok", "scope": "VerifyResult", "scopeKind": "class", "description": "unavailable"}, {"name": "router = APIRouter(", "scope": "", "scopeKind": "", "description": "unavailable"}], "revision_history": [{"23": ""}]}